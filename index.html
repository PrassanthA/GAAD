<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Color Ball Game</title>
<style>
body {
  font-family: 'Arial', sans-serif;
  margin: 0;
  padding: 0;
  background: #f5f5f5;
  min-height: 100vh;
}
.header-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 16px 0 8px;
  width: 100%;
  box-sizing: border-box;
  height: 130px; /* Increase header height to fit larger logos */
  overflow: hidden;
}
.logo {
  height: 160px;   /* Increase logo size */
  width: 160px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.logo img {
  height: 100%;
  width: 100%;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
}
.menu-bar {
  text-align: center;
  margin: 0 0 12px 0;
}
.menu-bar button {
  font-size: 1.1rem;
  margin: 0 10px;
  padding: 10px 22px;
  border-radius: 8px;
  border: none;
  background: #1976d2;
  color: #fff;
  cursor: pointer;
  transition: background 0.2s;
}
.menu-bar button:hover,
.menu-bar button.active {
  background: #388e3c;
}
h1 {
  font-size: 2.5rem;
  color: #333;
  margin-bottom: 10px;
  text-align: center;
  margin-top: 0;
}
.intro {
  font-size: 1.15rem;
  color: #444;
  text-align: center;
  margin-bottom: 28px;
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
}
.game-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 80%;
  margin: 0 auto;
}
.color-balls {
  display: flex;
  flex-direction: column;
  margin-bottom: 30px;
}
.row {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 15px;
}
.ball {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  margin: 5px;
  cursor: pointer;
  transition: transform 0.2s cubic-bezier(.4,2,.6,1), box-shadow 0.2s, background 0.2s;
  background:
    radial-gradient(circle at 30% 30%, #fff9 0%, #fff0 60%),
    radial-gradient(circle at 70% 75%, #0003 0%, #0000 70%),
    linear-gradient(145deg, #fff4 0%, #0002 100%);
  box-shadow:
    0 8px 24px 0 rgba(0,0,0,0.28),
    0 2px 8px 0 rgba(0,0,0,0.18) inset,
    0 0.5px 1.5px 0 rgba(0,0,0,0.10) inset;
  position: relative;
  z-index: 1;
}
.ball:hover {
  transform: scale(1.12) translateY(-6px) rotateZ(-2deg);
  box-shadow:
    0 16px 32px 0 rgba(0,0,0,0.36),
    0 4px 12px 0 rgba(0,0,0,0.22) inset;
}
.ball.grey-scale {
  filter: grayscale(100%);
}
.color-boards {
  display: flex;
  justify-content: center;
  margin-bottom: 30px;
  width: 70%;
  flex-wrap: wrap;
}
.board {
  width: 100px;
  height: 100px;
  border: 3px solid #000;
  margin: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  text-align: center;
  font-weight: bold;
  color: white;
  font-size: 1rem;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.2s ease;
}
.board[data-color="red"] { background-color: red; }
.board[data-color="blue"] { background-color: blue; }
.board[data-color="green"] { background-color: green; }
.board[data-color="yellow"] { background-color: yellow; }
.board[data-color="purple"] { background-color: purple; }
.board:hover {
  transform: scale(1.1);
}
.board.highlight {
  box-shadow: 0 0 24px 8px #fff8, 0 0 0 4px #2224;
  transform: scale(1.08);
  border-color: #fff;
  transition: box-shadow 0.2s, border-color 0.2s, transform 0.2s;
}
.scoreboard {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 200px;
  padding: 20px;
  background-color: #2f4f4f;
  color: white;
  border-radius: 10px;
  font-size: 1.2rem;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  margin-bottom: 10px;
}
.scoreboard div {
  margin-bottom: 10px;
  font-weight: bold;
}
.scoreboard div span {
  font-size: 1.4rem;
}
button {
  padding: 12px 25px;
  font-size: 1rem;
  margin: 10px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s;
}
button:hover {
  background-color: #45a049;
}
.grey-scale {
  filter: grayscale(100%);
}

/* Accessibility Demo Styles */
.accessibility-demo .contrast-btn {
  font-size: 1.2rem;
  padding: 16px 32px;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  transition: filter 0.2s, background 0.2s, color 0.2s;
  outline: none;
  box-shadow: 0 2px 8px #0002;
  cursor: pointer;
}
.accessibility-demo .contrast-btn:active {
  transform: scale(0.97);
}
.accessibility-demo.greyscale .contrast-btn {
  filter: grayscale(100%);
}
.accessibility-demo.accessible .gaad-btn,
.accessibility-demo.accessible .good-btn,
.accessibility-demo.accessible .gost-btn {
  background: #222;
  color: #fff;
}
.accessibility-demo.accessible .gaad-btn { background: #fff; color: #222; border: 2px solid #222; }
.accessibility-demo.accessible .good-btn { background: #1976D2; color: #fff; }
.accessibility-demo.accessible .gost-btn { background: #388E3C; color: #fff; }

</style>
</head>
<body>
<!-- Header with logos -->
<div class="header-bar">
  <div class="logo" id="logo-left">
    
    <img src="vm_logo.png" alt="Virgin Money Logo">
</div>
<!-- Right logo -->
<div class="logo" id="logo-right">
  <img src="cog_logo.png" alt="Cognizant Logo">
</div>
</div>

<!-- Menu -->
<div class="menu-bar">
  <button id="showColorQuestBtn" class="active">Play Color Quest</button>
  <button id="showAccessibilityBtn">Accessibility Color Demo</button>
</div>

<!-- Main Heading and Intro -->
<h1>Color Ball Game</h1>
<div class="intro">
  Welcome to Color Quest! This interactive game helps you understand the importance of color and accessibility in design. Drag and drop colored balls into their matching boxes, and try the greyscale mode to experience how colorblind users perceive your choices. Explore the Accessibility Color Demo to learn about good and bad color contrast for everyone.
</div>

<!-- Color Quest Section -->
<div id="colorQuestSection">
  <div class="game-container">
    <!-- Color Balls -->
    <div class="color-balls">
      <div class="row">
        <div class="ball" draggable="true" id="ball1"></div>
        <div class="ball" draggable="true" id="ball2"></div>
        <div class="ball" draggable="true" id="ball3"></div>
        <div class="ball" draggable="true" id="ball4"></div>
        <div class="ball" draggable="true" id="ball5"></div>
        <div class="ball" draggable="true" id="ball6"></div>
        <div class="ball" draggable="true" id="ball7"></div>
        <div class="ball" draggable="true" id="ball8"></div>
        <div class="ball" draggable="true" id="ball9"></div>
        <div class="ball" draggable="true" id="ball10"></div>
        <div class="ball" draggable="true" id="ball11"></div>
        <div class="ball" draggable="true" id="ball12"></div>
        <div class="ball" draggable="true" id="ball13"></div>
        <div class="ball" draggable="true" id="ball14"></div>
        <div class="ball" draggable="true" id="ball15"></div>
      </div>
      <div class="row">
        <div class="ball" draggable="true" id="ball16"></div>
        <div class="ball" draggable="true" id="ball17"></div>
        <div class="ball" draggable="true" id="ball18"></div>
        <div class="ball" draggable="true" id="ball19"></div>
        <div class="ball" draggable="true" id="ball20"></div>
        <div class="ball" draggable="true" id="ball21"></div>
        <div class="ball" draggable="true" id="ball22"></div>
        <div class="ball" draggable="true" id="ball23"></div>
        <div class="ball" draggable="true" id="ball24"></div>
        <div class="ball" draggable="true" id="ball25"></div>
        <div class="ball" draggable="true" id="ball26"></div>
        <div class="ball" draggable="true" id="ball27"></div>
        <div class="ball" draggable="true" id="ball28"></div>
        <div class="ball" draggable="true" id="ball29"></div>
        <div class="ball" draggable="true" id="ball30"></div>
      </div>
      <div class="row">
        <div class="ball" draggable="true" id="ball31"></div>
        <div class="ball" draggable="true" id="ball32"></div>
        <div class="ball" draggable="true" id="ball33"></div>
        <div class="ball" draggable="true" id="ball34"></div>
        <div class="ball" draggable="true" id="ball35"></div>
        <div class="ball" draggable="true" id="ball36"></div>
        <div class="ball" draggable="true" id="ball37"></div>
        <div class="ball" draggable="true" id="ball38"></div>
        <div class="ball" draggable="true" id="ball39"></div>
        <div class="ball" draggable="true" id="ball40"></div>
        <div class="ball" draggable="true" id="ball41"></div>
        <div class="ball" draggable="true" id="ball42"></div>
        <div class="ball" draggable="true" id="ball43"></div>
        <div class="ball" draggable="true" id="ball44"></div>
        <div class="ball" draggable="true" id="ball45"></div>
      </div>
    </div>
    <!-- Color Boxes and Scoreboard Below -->
    <div class="color-boards">
      <div class="board" id="board1" data-color="red"><span>Red</span></div>
      <div class="board" id="board2" data-color="blue"><span>Blue</span></div>
      <div class="board" id="board3" data-color="green"><span>Green</span></div>
      <div class="board" id="board4" data-color="yellow"><span>Yellow</span></div>
      <div class="board" id="board5" data-color="purple"><span>Purple</span></div>
    </div>
    <div class="scoreboard">
      <div id="correct">Correct: <span>0</span></div>
      <div id="incorrect">Incorrect: <span>0</span></div>
    </div>
    <button id="shuffleBtn">Shuffle</button>
    <button id="greyscaleBtn">Greyscale</button>
  </div>
</div>

<!-- Accessibility Demo Section (initially hidden) -->
<div id="accessibilitySection" style="display:none;">
  <div class="accessibility-demo" style="margin-top:40px; text-align:center;">
    <h2>Accessibility Color Demo</h2>
    <div id="accessInstruction" style="font-size:1.2rem; margin-bottom:12px; font-weight:bold;"></div>
   <div id="accessButtons" style="display:flex; gap:20px; justify-content:center; margin-bottom:16px;">
  <button class="contrast-btn gaad-btn">GAAD</button>
  <button class="contrast-btn good-btn">GOOD</button>
  <button class="contrast-btn gost-btn">GOST</button>
</div>
    <button id="accessGreyscaleBtn" style="margin:0 8px;">Toggle Greyscale</button>
    <button id="accessibilityToggleBtn" style="margin:0 8px;">Show Accessible Colors</button>
    <div style="font-size:0.95rem; color:#444; margin-top:10px;">
      Try toggling greyscale and see which buttons remain readable.<br>
      Accessible color combinations are important for everyone!
    </div>
    <div class="scoreboard" style="margin: 18px auto 0; width: 220px;">
      <div id="accessCorrect">Correct: <span>0</span></div>
      <div id="accessIncorrect">Incorrect: <span>0</span></div>
    </div>
  </div>
</div>

<script>
// Menu logic
const colorQuestSection = document.getElementById('colorQuestSection');
const accessibilitySection = document.getElementById('accessibilitySection');
const showColorQuestBtn = document.getElementById('showColorQuestBtn');
const showAccessibilityBtn = document.getElementById('showAccessibilityBtn');

showColorQuestBtn.onclick = function() {
  colorQuestSection.style.display = '';
  accessibilitySection.style.display = 'none';
  showColorQuestBtn.classList.add('active');
  showAccessibilityBtn.classList.remove('active');
};
showAccessibilityBtn.onclick = function() {
  colorQuestSection.style.display = 'none';
  accessibilitySection.style.display = '';
  showAccessibilityBtn.classList.add('active');
  showColorQuestBtn.classList.remove('active');
};

// Color Quest Game Logic
let colorBalls = [
  { id: 'ball1', color: 'red' }, { id: 'ball2', color: 'blue' }, { id: 'ball3', color: 'green' },
  { id: 'ball4', color: 'yellow' }, { id: 'ball5', color: 'purple' }, { id: 'ball6', color: 'red' },
  { id: 'ball7', color: 'blue' }, { id: 'ball8', color: 'green' }, { id: 'ball9', color: 'yellow' },
  { id: 'ball10', color: 'purple' }, { id: 'ball11', color: 'red' }, { id: 'ball12', color: 'blue' },
  { id: 'ball13', color: 'green' }, { id: 'ball14', color: 'yellow' }, { id: 'ball15', color: 'purple' },
  { id: 'ball16', color: 'red' }, { id: 'ball17', color: 'blue' }, { id: 'ball18', color: 'green' },
  { id: 'ball19', color: 'yellow' }, { id: 'ball20', color: 'purple' }, { id: 'ball21', color: 'red' },
  { id: 'ball22', color: 'blue' }, { id: 'ball23', color: 'green' }, { id: 'ball24', color: 'yellow' },
  { id: 'ball25', color: 'purple' }, { id: 'ball26', color: 'red' }, { id: 'ball27', color: 'blue' },
  { id: 'ball28', color: 'green' }, { id: 'ball29', color: 'yellow' }, { id: 'ball30', color: 'purple' },
  { id: 'ball31', color: 'red' }, { id: 'ball32', color: 'blue' }, { id: 'ball33', color: 'green' },
  { id: 'ball34', color: 'yellow' }, { id: 'ball35', color: 'purple' }, { id: 'ball36', color: 'red' },
  { id: 'ball37', color: 'blue' }, { id: 'ball38', color: 'green' }, { id: 'ball39', color: 'yellow' },
  { id: 'ball40', color: 'purple' }, { id: 'ball41', color: 'red' }, { id: 'ball42', color: 'blue' },
  { id: 'ball43', color: 'green' }, { id: 'ball44', color: 'yellow' }, { id: 'ball45', color: 'purple' },
];
let colorBoards = document.querySelectorAll('.board');

// Drag and Drop functionality
colorBalls.forEach(ball => {
  const ballElement = document.getElementById(ball.id);
  ballElement.style.backgroundColor = ball.color;

  // Desktop drag-and-drop events
  ballElement.addEventListener('dragstart', (e) => {
    e.dataTransfer.setData('ball', ball.color);
    e.dataTransfer.setData('isGrey', ballElement.classList.contains('grey-scale'));
    e.dataTransfer.setData('ballId', ball.id);

    // Create a custom drag image
    const dragImage = ballElement.cloneNode(true);
    dragImage.style.position = 'absolute';
    dragImage.style.top = '-9999px';
    dragImage.style.left = '-9999px';
    if (ballElement.classList.contains('grey-scale')) {
      dragImage.style.filter = 'grayscale(100%)';
    }
    document.body.appendChild(dragImage);
    e.dataTransfer.setDragImage(dragImage, 30, 30);
    setTimeout(() => document.body.removeChild(dragImage), 0);
  });

  ballElement.addEventListener('dragend', () => {
    if (ballElement.classList.contains('grey-scale')) {
      ballElement.style.filter = 'grayscale(100%)';
    } else {
      ballElement.style.filter = '';
    }
  });

  // Mobile touch events
  ballElement.addEventListener('touchstart', (e) => {
    e.preventDefault();
    const touch = e.touches[0];
    ballElement.dataset.touchId = touch.identifier;
    ballElement.dataset.startX = touch.clientX;
    ballElement.dataset.startY = touch.clientY;
    ballElement.classList.add('dragging');
  });

  ballElement.addEventListener('touchmove', (e) => {
    e.preventDefault();
    const touch = e.touches[0];
    const touchId = ballElement.dataset.touchId;
    if (touch.identifier == touchId) {
      const deltaX = touch.clientX - ballElement.dataset.startX;
      const deltaY = touch.clientY - ballElement.dataset.startY;
      ballElement.style.transform = `translate(${deltaX}px, ${deltaY}px)`;

      // Highlight board under finger
      document.querySelectorAll('.board').forEach(board => board.classList.remove('highlight'));
      const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);
      if (dropTarget && dropTarget.classList.contains('board')) {
        dropTarget.classList.add('highlight');
      }
    }
  });

  ballElement.addEventListener('touchend', (e) => {
    e.preventDefault();
    ballElement.style.transform = '';
    ballElement.classList.remove('dragging');
    document.querySelectorAll('.board').forEach(board => board.classList.remove('highlight'));

    const touchId = ballElement.dataset.touchId;
    const touch = Array.from(e.changedTouches).find(t => t.identifier == touchId);

    if (touch) {
      const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);
      if (dropTarget && dropTarget.classList.contains('board')) {
        const color = ballElement.style.backgroundColor;
        const isGrey = ballElement.classList.contains('grey-scale');
        if (color === dropTarget.dataset.color) {
          document.getElementById('correct').textContent = `Correct: ${parseInt(document.getElementById('correct').textContent.split(":")[1]) + 1}`;
          if (isGrey) {
            ballElement.classList.add('grey-scale');
            dropTarget.classList.add('grey-scale');
            ballElement.style.filter = 'grayscale(100%)';
          } else {
            ballElement.classList.remove('grey-scale');
            dropTarget.classList.remove('grey-scale');
            ballElement.style.filter = '';
          }
        } else {
          document.getElementById('incorrect').textContent = `Incorrect: ${parseInt(document.getElementById('incorrect').textContent.split(":")[1]) + 1}`;
        }
      }
    }
  });
});

colorBoards.forEach(board => {
  board.addEventListener('dragover', (e) => {
    e.preventDefault();
    board.classList.add('highlight');
  });

  board.addEventListener('dragleave', (e) => {
    board.classList.remove('highlight');
  });

  board.addEventListener('drop', (e) => {
    e.preventDefault();
    board.classList.remove('highlight');
    const color = e.dataTransfer.getData('ball');
    const isGrey = e.dataTransfer.getData('isGrey') === 'true';
    const ballId = e.dataTransfer.getData('ballId');
    const ballElement = document.getElementById(ballId);

    if (color === board.dataset.color) {
      document.getElementById('correct').textContent = `Correct: ${parseInt(document.getElementById('correct').textContent.split(":")[1]) + 1}`;
      if (isGrey) {
        ballElement.classList.add('grey-scale');
        board.classList.add('grey-scale');
        ballElement.style.filter = 'grayscale(100%)';
      } else {
        ballElement.classList.remove('grey-scale');
        board.classList.remove('grey-scale');
        ballElement.style.filter = '';
      }
      // Snap ball to center of box for a moment
      ballElement.style.transition = 'transform 0.3s';
      const boardRect = board.getBoundingClientRect();
      const ballRect = ballElement.getBoundingClientRect();
      const offsetX = boardRect.left + boardRect.width/2 - (ballRect.left + ballRect.width/2);
      const offsetY = boardRect.top + boardRect.height/2 - (ballRect.top + ballRect.height/2);
      ballElement.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(1.2)`;
      setTimeout(() => {
        ballElement.style.transform = '';
        ballElement.style.transition = '';
      }, 400);
    } else {
      document.getElementById('incorrect').textContent = `Incorrect: ${parseInt(document.getElementById('incorrect').textContent.split(":")[1]) + 1}`;
    }
  });
});

// Shuffle Button
document.getElementById('shuffleBtn').addEventListener('click', () => {
  colorBalls.forEach(ball => {
    const ballElement = document.getElementById(ball.id);
    ballElement.style.order = Math.floor(Math.random() * 45);
  });
});

// Greyscale button functionality
document.getElementById('greyscaleBtn').addEventListener('click', () => {
  document.querySelectorAll('.ball').forEach(ball => {
    ball.classList.toggle('grey-scale');
    if (ball.classList.contains('grey-scale')) {
      ball.style.filter = 'grayscale(100%)';
    } else {
      ball.style.filter = '';
    }
  });
  document.querySelectorAll('.board').forEach(board => {
    board.classList.toggle('grey-scale');
    if (board.classList.contains('grey-scale')) {
      board.style.filter = 'grayscale(100%)';
    } else {
      board.style.filter = '';
    }
  });
});

// Accessibility Demo Logic
const accessDemo = document.querySelector('.accessibility-demo');
const accessButtons = document.querySelectorAll('.accessibility-demo .contrast-btn');
const accessGreyscaleBtn = document.getElementById('accessGreyscaleBtn');
const accessibilityToggleBtn = document.getElementById('accessibilityToggleBtn');
const accessInstruction = document.getElementById('accessInstruction');
const accessCorrect = document.querySelector('#accessCorrect span');
const accessIncorrect = document.querySelector('#accessIncorrect span');
const buttonNames = ['GAAD', 'GOOD', 'GOST'];
let accessGreyscale = false;
let accessibleMode = false;
let currentTarget = '';

function setRandomInstruction() {
  currentTarget = buttonNames[Math.floor(Math.random() * buttonNames.length)];
  accessInstruction.textContent = `Click on the "${currentTarget}" button`;
}
if (accessInstruction) setRandomInstruction();

function setBadContrast() {
  // All buttons: extremely poor contrast, hard to read in greyscale
  accessButtons[0].style.background = "#FFFF99"; // GAAD: yellow
  accessButtons[0].style.color = "#FFFACD";      // light yellow text

  accessButtons[1].style.background = "#FFD6E0"; // GOOD: light pink
  accessButtons[1].style.color = "#FFE0EF";      // almost same as background

  accessButtons[2].style.background = "#E0E0E0"; // GOST: light grey
  accessButtons[2].style.color = "#E8E8E8";      // just a bit lighter than background
}

function setAccessibleContrast() {
  // All buttons: accessible contrast, readable even in greyscale
  accessButtons[0].style.background = "#222";
  accessButtons[0].style.color = "#FFF";
  accessButtons[1].style.background = "#1976D2";
  accessButtons[1].style.color = "#FFF";
  accessButtons[2].style.background = "#388E3C";
  accessButtons[2].style.color = "#FFF";
}

accessButtons.forEach(btn => {
  btn.onclick = () => {
    if (btn.textContent === currentTarget) {
      accessCorrect.textContent = parseInt(accessCorrect.textContent) + 1;
    } else {
      accessIncorrect.textContent = parseInt(accessIncorrect.textContent) + 1;
    }
    shuffleAccessButtons();
    setRandomInstruction();
  };
});

accessGreyscaleBtn.onclick = () => {
  accessGreyscale = !accessGreyscale;
  accessDemo.classList.toggle('greyscale', accessGreyscale);
};

accessibilityToggleBtn.onclick = () => {
  accessibleMode = !accessibleMode;
  if (accessibleMode) {
    setAccessibleContrast();
    // Allow greyscale toggle in accessible mode
    // (do not disable the button)
  } else {
    setBadContrast();
    // If greyscale was on before, re-apply it
    if (accessGreyscale) {
      accessDemo.classList.add('greyscale');
    }
  }
};
function shuffleAccessButtons() {
  const parent = document.getElementById('accessButtons');
  const btns = Array.from(accessButtons);
  // Shuffle array
  for (let i = btns.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [btns[i], btns[j]] = [btns[j], btns[i]];
  }
  // Remove all and re-append in new order
  btns.forEach(btn => parent.appendChild(btn));
}

// Initialize with bad contrast
setBadContrast();
</script>
</body>
</html>