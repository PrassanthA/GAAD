<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Color Ball Game</title>
<style>
/* Reset the page and set a background */
body {
font-family: 'Arial', sans-serif;
margin: 0;
padding: 0;
background: #f5f5f5;
display: flex;
justify-content: center;
align-items: center;
height: 100vh;
flex-direction: column;
}

h1 {
font-size: 2.5rem;
color: #333;
margin-bottom: 20px;
text-align: center;
}

.game-container {
display: flex;
flex-direction: column;
align-items: center;
width: 80%;
}

/* Color Ball Grid */
.color-balls {
display: flex;
flex-direction: column;
margin-bottom: 30px;
}

.row {
display: flex;
justify-content: center;
flex-wrap: wrap;
margin-bottom: 15px;
}

.ball {
width: 60px;
height: 60px;
border-radius: 50%;
margin: 5px;
cursor: pointer;
transition: transform 0.2s ease;
}

.ball:hover {
transform: scale(1.1);
}

/* Color Boxes */
.color-boards {
display: flex;
justify-content: center;
margin-bottom: 30px;
width: 70%;
flex-wrap: wrap;
}

.board {
width: 100px;
height: 100px;
border: 3px solid #000;
margin: 10px; /* Reduce the space */
display: flex;
justify-content: center;
align-items: center;
flex-direction: column;
text-align: center;
font-weight: bold;
color: white;
font-size: 1rem;
border-radius: 10px;
cursor: pointer;
transition: transform 0.2s ease;
}

.board:hover {
transform: scale(1.1);
}

/* Button Styling */
button {
padding: 12px 25px;
font-size: 1rem;
margin: 10px;
background-color: #4CAF50;
color: white;
border: none;
border-radius: 8px;
cursor: pointer;
transition: background-color 0.3s;
}

button:hover {
background-color: #45a049;
}

/* Scoreboard styling */
.scoreboard {
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
width: 200px; /* Adjusted width */
padding: 20px;
background-color: #2f4f4f;
color: white;
border-radius: 10px;
font-size: 1.2rem;
box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.scoreboard div {
margin-bottom: 10px;
font-weight: bold;
}

.scoreboard div span {
font-size: 1.4rem;
}

/* Greyscale Styling */
.grey-scale {
filter: grayscale(100%);
}

/* Box content color */
.board[data-color="red"] {
background-color: red;
}

.board[data-color="blue"] {
background-color: blue;
}

.board[data-color="green"] {
background-color: green;
}

.board[data-color="yellow"] {
background-color: yellow;
}

.board[data-color="purple"] {
background-color: purple;
}
.ball {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  margin: 5px;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s, background 0.2s;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25), 0 1.5px 3px rgba(0,0,0,0.15) inset;
  background: radial-gradient(circle at 30% 30%, #fff8, transparent 60%), 
              radial-gradient(circle at 70% 75%, #0002, transparent 70%);
  /* The actual color will be set inline by JS */
  position: relative;
  z-index: 1;
}

.ball:hover {
  transform: scale(1.1) translateY(-4px);
  box-shadow: 0 12px 24px rgba(0,0,0,0.32), 0 2px 6px rgba(0,0,0,0.18) inset;
}

.ball.grey-scale {
  /* Keep the 3D effect even in greyscale */
  filter: grayscale(100%);
}
.board.highlight {
  box-shadow: 0 0 24px 8px #fff8, 0 0 0 4px #2224;
  transform: scale(1.08);
  border-color: #fff;
  transition: box-shadow 0.2s, border-color 0.2s, transform 0.2s;
}

</style>
</head>
<body>
<h1>Color Ball Game</h1>

<div class="game-container">
<!-- Color Balls -->
<div class="color-balls">
<div class="row">
<div class="ball" draggable="true" id="ball1"></div>
<div class="ball" draggable="true" id="ball2"></div>
<div class="ball" draggable="true" id="ball3"></div>
<div class="ball" draggable="true" id="ball4"></div>
<div class="ball" draggable="true" id="ball5"></div>
<div class="ball" draggable="true" id="ball6"></div>
<div class="ball" draggable="true" id="ball7"></div>
<div class="ball" draggable="true" id="ball8"></div>
<div class="ball" draggable="true" id="ball9"></div>
<div class="ball" draggable="true" id="ball10"></div>
<div class="ball" draggable="true" id="ball11"></div>
<div class="ball" draggable="true" id="ball12"></div>
<div class="ball" draggable="true" id="ball13"></div>
<div class="ball" draggable="true" id="ball14"></div>
<div class="ball" draggable="true" id="ball15"></div>
</div>
<div class="row">
<div class="ball" draggable="true" id="ball16"></div>
<div class="ball" draggable="true" id="ball17"></div>
<div class="ball" draggable="true" id="ball18"></div>
<div class="ball" draggable="true" id="ball19"></div>
<div class="ball" draggable="true" id="ball20"></div>
<div class="ball" draggable="true" id="ball21"></div>
<div class="ball" draggable="true" id="ball22"></div>
<div class="ball" draggable="true" id="ball23"></div>
<div class="ball" draggable="true" id="ball24"></div>
<div class="ball" draggable="true" id="ball25"></div>
<div class="ball" draggable="true" id="ball26"></div>
<div class="ball" draggable="true" id="ball27"></div>
<div class="ball" draggable="true" id="ball28"></div>
<div class="ball" draggable="true" id="ball29"></div>
<div class="ball" draggable="true" id="ball30"></div>
</div>
<div class="row">
<div class="ball" draggable="true" id="ball31"></div>
<div class="ball" draggable="true" id="ball32"></div>
<div class="ball" draggable="true" id="ball33"></div>
<div class="ball" draggable="true" id="ball34"></div>
<div class="ball" draggable="true" id="ball35"></div>
<div class="ball" draggable="true" id="ball36"></div>
<div class="ball" draggable="true" id="ball37"></div>
<div class="ball" draggable="true" id="ball38"></div>
<div class="ball" draggable="true" id="ball39"></div>
<div class="ball" draggable="true" id="ball40"></div>
<div class="ball" draggable="true" id="ball41"></div>
<div class="ball" draggable="true" id="ball42"></div>
<div class="ball" draggable="true" id="ball43"></div>
<div class="ball" draggable="true" id="ball44"></div>
<div class="ball" draggable="true" id="ball45"></div>
</div>
</div>

<!-- Color Boxes and Scoreboard Below -->
<div class="color-boards">
<div class="board" id="board1" data-color="red">
<span>Red</span>
</div>
<div class="board" id="board2" data-color="blue">
<span>Blue</span>
</div>
<div class="board" id="board3" data-color="green">
<span>Green</span>
</div>
<div class="board" id="board4" data-color="yellow">
<span>Yellow</span>
</div>
<div class="board" id="board5" data-color="purple">
<span>Purple</span>
</div>
</div>

<!-- Scoreboard Below -->
<div class="scoreboard">
<div id="correct">Correct: <span>0</span></div>
<div id="incorrect">Incorrect: <span>0</span></div>
</div>

<!-- Buttons -->
<button id="shuffleBtn">Shuffle</button>
<button id="greyscaleBtn">Greyscale</button>
</div>

<script>
// Define the balls and boards
let colorBalls = [
{ id: 'ball1', color: 'red' }, { id: 'ball2', color: 'blue' }, { id: 'ball3', color: 'green' },
{ id: 'ball4', color: 'yellow' }, { id: 'ball5', color: 'purple' }, { id: 'ball6', color: 'red' },
{ id: 'ball7', color: 'blue' }, { id: 'ball8', color: 'green' }, { id: 'ball9', color: 'yellow' },
{ id: 'ball10', color: 'purple' }, { id: 'ball11', color: 'red' }, { id: 'ball12', color: 'blue' },
{ id: 'ball13', color: 'green' }, { id: 'ball14', color: 'yellow' }, { id: 'ball15', color: 'purple' },
{ id: 'ball16', color: 'red' }, { id: 'ball17', color: 'blue' }, { id: 'ball18', color: 'green' },
{ id: 'ball19', color: 'yellow' }, { id: 'ball20', color: 'purple' }, { id: 'ball21', color: 'red' },
{ id: 'ball22', color: 'blue' }, { id: 'ball23', color: 'green' }, { id: 'ball24', color: 'yellow' },
{ id: 'ball25', color: 'purple' }, { id: 'ball26', color: 'red' }, { id: 'ball27', color: 'blue' },
{ id: 'ball28', color: 'green' }, { id: 'ball29', color: 'yellow' }, { id: 'ball30', color: 'purple' },
{ id: 'ball31', color: 'red' }, { id: 'ball32', color: 'blue' }, { id: 'ball33', color: 'green' },
{ id: 'ball34', color: 'yellow' }, { id: 'ball35', color: 'purple' }, { id: 'ball36', color: 'red' },
{ id: 'ball37', color: 'blue' }, { id: 'ball38', color: 'green' }, { id: 'ball39', color: 'yellow' },
{ id: 'ball40', color: 'purple' }, { id: 'ball41', color: 'red' }, { id: 'ball42', color: 'blue' },
{ id: 'ball43', color: 'green' }, { id: 'ball44', color: 'yellow' }, { id: 'ball45', color: 'purple' },
];

let colorBoards = document.querySelectorAll('.board');

// Drag and Drop functionality
colorBalls.forEach(ball => {
const ballElement = document.getElementById(ball.id);
ballElement.style.backgroundColor = ball.color;

// Desktop drag-and-drop events
ballElement.addEventListener('dragstart', (e) => {
e.dataTransfer.setData('ball', ball.color);
e.dataTransfer.setData('isGrey', ballElement.classList.contains('grey-scale'));
e.dataTransfer.setData('ballId', ball.id);

// Create a custom drag image
const dragImage = ballElement.cloneNode(true);
dragImage.style.position = 'absolute';
dragImage.style.top = '-9999px'; // Move it off-screen
dragImage.style.left = '-9999px';

// Apply greyscale filter to the drag image if the ball is greyscaled
if (ballElement.classList.contains('grey-scale')) {
dragImage.style.filter = 'grayscale(100%)';
}

document.body.appendChild(dragImage);
e.dataTransfer.setDragImage(dragImage, 30, 30); // Center the drag image
setTimeout(() => document.body.removeChild(dragImage), 0); // Remove after setting
});

ballElement.addEventListener('dragend', () => {
if (ballElement.classList.contains('grey-scale')) {
ballElement.style.filter = 'grayscale(100%)';
} else {
ballElement.style.filter = '';
}
});

// Mobile touch events
ballElement.addEventListener('touchstart', (e) => {
e.preventDefault();
const touch = e.touches[0];
ballElement.dataset.touchId = touch.identifier;
ballElement.dataset.startX = touch.clientX;
ballElement.dataset.startY = touch.clientY;
ballElement.classList.add('dragging');
});

ballElement.addEventListener('touchmove', (e) => {
e.preventDefault();
const touch = e.touches[0];
const touchId = ballElement.dataset.touchId;

if (touch.identifier == touchId) {
const deltaX = touch.clientX - ballElement.dataset.startX;
const deltaY = touch.clientY - ballElement.dataset.startY;

ballElement.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
}
});

ballElement.addEventListener('touchend', (e) => {
e.preventDefault();
ballElement.style.transform = '';
ballElement.classList.remove('dragging');

const touchId = ballElement.dataset.touchId;
const touch = Array.from(e.changedTouches).find(t => t.identifier == touchId);

if (touch) {
const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);
if (dropTarget && dropTarget.classList.contains('board')) {
const color = ballElement.style.backgroundColor;
const isGrey = ballElement.classList.contains('grey-scale');

if (color === dropTarget.dataset.color) {
document.getElementById('correct').textContent = `Correct: ${parseInt(document.getElementById('correct').textContent.split(":")[1]) + 1}`;
if (isGrey) {
ballElement.classList.add('grey-scale');
dropTarget.classList.add('grey-scale');
ballElement.style.filter = 'grayscale(100%)';
} else {
ballElement.classList.remove('grey-scale');
dropTarget.classList.remove('grey-scale');
ballElement.style.filter = '';
}
} else {
document.getElementById('incorrect').textContent = `Incorrect: ${parseInt(document.getElementById('incorrect').textContent.split(":")[1]) + 1}`;
}
}
}
});
});
colorBoards.forEach(board => {
  board.addEventListener('dragover', (e) => {
    e.preventDefault();
    board.classList.add('highlight');
  });

  board.addEventListener('dragleave', (e) => {
    board.classList.remove('highlight');
  });

  board.addEventListener('drop', (e) => {
    e.preventDefault();
    board.classList.remove('highlight');
    const color = e.dataTransfer.getData('ball');
    const isGrey = e.dataTransfer.getData('isGrey') === 'true';
    const ballId = e.dataTransfer.getData('ballId');
    const ballElement = document.getElementById(ballId);

    if (color === board.dataset.color) {
      document.getElementById('correct').textContent = `Correct: ${parseInt(document.getElementById('correct').textContent.split(":")[1]) + 1}`;
      if (isGrey) {
        ballElement.classList.add('grey-scale');
        board.classList.add('grey-scale');
        ballElement.style.filter = 'grayscale(100%)';
      } else {
        ballElement.classList.remove('grey-scale');
        board.classList.remove('grey-scale');
        ballElement.style.filter = '';
      }
      // Optional: Snap ball to center of box for a moment
      ballElement.style.transition = 'transform 0.3s';
      const boardRect = board.getBoundingClientRect();
      const ballRect = ballElement.getBoundingClientRect();
      const offsetX = boardRect.left + boardRect.width/2 - (ballRect.left + ballRect.width/2);
      const offsetY = boardRect.top + boardRect.height/2 - (ballRect.top + ballRect.height/2);
      ballElement.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(1.2)`;
      setTimeout(() => {
        ballElement.style.transform = '';
        ballElement.style.transition = '';
      }, 400);
    } else {
      document.getElementById('incorrect').textContent = `Incorrect: ${parseInt(document.getElementById('incorrect').textContent.split(":")[1]) + 1}`;
    }
  });
});

// Shuffle Button
document.getElementById('shuffleBtn').addEventListener('click', () => {
colorBalls.forEach(ball => {
const ballElement = document.getElementById(ball.id);
ballElement.style.order = Math.floor(Math.random() * 45);
});
});

// Greyscale button functionality
document.getElementById('greyscaleBtn').addEventListener('click', () => {
document.querySelectorAll('.ball').forEach(ball => {
ball.classList.toggle('grey-scale');
if (ball.classList.contains('grey-scale')) {
ball.style.filter = 'grayscale(100%)';
} else {
ball.style.filter = ''; // Remove the filter if not greyscaled
}
});
document.querySelectorAll('.board').forEach(board => {
board.classList.toggle('grey-scale');
if (board.classList.contains('grey-scale')) {
board.style.filter = 'grayscale(100%)';
} else {
board.style.filter = ''; // Remove the filter if not greyscaled
}
});
});
</script>
</body>
</html>